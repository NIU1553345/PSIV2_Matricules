import cv2
import numpy as np
import matplotlib.pyplot as plt

def imatge_binaritzada(imatge):
  imatge = cv2.cvtColor(imatge, cv2.COLOR_BGR2GRAY) 
  _, imatge_otsu = cv2.threshold(imatge, 0, 255, cv2.THRESH_BINARY + cv2.THRESH_OTSU)
  plt.imshow(imatge_otsu, cmap='gray')
  plt.title('Imatge bin√†ria')
  plt.show()
  return imatge_otsu

def contorns(imatge, imatge_binaria):
  imatge_invertida = cv2.bitwise_not(imatge_binaria) # inverteix els bits negres a blancs i viceversa per 
  contorns, _ = cv2.findContours(imatge_invertida, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
  imagen_contornos = imatge.copy()
  cv2.drawContours(imagen_contornos, contornos, -1, (0, 255, 0), 2)
  plt.imshow(cv2.cvtColor(imagen_contornos, cv2.COLOR_BGR2RGB))
  plt.title('Contorns')
  plt.show()
  return contorns



imatge = cv2.imread("/content/PXL_20210921_094959264_tallada.jpg")
imatge_binaria = imatge_binaritzada(imatge)
contorn  = contorns(imatge, imatge_binaria)


























